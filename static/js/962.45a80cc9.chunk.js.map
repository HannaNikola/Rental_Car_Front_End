{"version":3,"file":"static/js/962.45a80cc9.chunk.js","mappings":"4SAcaA,EAAU,WACnB,IAAMC,GAAWC,EAAAA,EAAAA,MACjBC,GAAoCC,EAAAA,EAAAA,IAAYC,EAAAA,IAAxCC,EAASH,EAATG,UAAWC,EAAKJ,EAALI,MAAOC,EAAKL,EAALK,MAC1BC,GAAkCC,EAAAA,EAAAA,UAAS,MAAKC,GAAAC,EAAAA,EAAAA,GAAAH,EAAA,GAAzCI,EAASF,EAAA,GAAEG,EAAYH,EAAA,GACxBI,GAAcX,EAAAA,EAAAA,KAAY,SAACY,GAAK,OAAKA,EAAMC,QAAQF,WAAW,IACpEG,GAAgCR,EAAAA,EAAAA,WAAS,GAAKS,GAAAP,EAAAA,EAAAA,GAAAM,EAAA,GAAvCE,EAAQD,EAAA,GAAEE,EAAWF,EAAA,IAE5BG,EAAAA,EAAAA,YAAU,WACNrB,GAASsB,EAAAA,EAAAA,IAAgB,GAC7B,GAAG,CAACtB,KAUJqB,EAAAA,EAAAA,YAAU,YACDhB,GAA8B,IAAjBE,EAAMgB,QAAgBT,EAAc,GAClDM,GAAY,EAEpB,GAAG,CAACf,EAAWE,EAAOO,IACtB,IAAMU,EAAkB,SAACC,GACrBZ,EAAaY,GACbzB,GAAS0B,EAAAA,EAAAA,MACb,EAEA,OACIC,EAAAA,EAAAA,MAAA,OAAAC,SAAA,CACKvB,IAAawB,EAAAA,EAAAA,KAAA,KAAAD,SAAG,uBAChBtB,IAASuB,EAAAA,EAAAA,KAAA,KAAAD,SAAItB,KACduB,EAAAA,EAAAA,KAACC,EAAAA,GAAG,CAAAF,SACCrB,EAAMwB,KAAI,SAACC,GAAI,OACZH,EAAAA,EAAAA,KAACI,EAAAA,EAAI,CAAgBD,KAAMA,EAAKJ,UAC5BC,EAAAA,EAAAA,KAACK,EAAAA,EAAc,CAACC,OAAQH,EAAKI,IAAKC,QAASb,KADpCQ,EAAKI,IAET,MAGdjB,IACGU,EAAAA,EAAAA,KAACS,EAAAA,EAAc,CAACD,QA9BX,SAACE,GACdA,EAAMC,iBACe,IAAjBjC,EAAMgB,QACNH,GAAY,GAEhBpB,GAASsB,EAAAA,EAAAA,IAAgBR,EAAc,GAC3C,EAwB+C2B,SAAUpC,EAAUuB,SAAC,eAI5DC,EAAAA,EAAAA,KAACa,EAAAA,EAAK,CAACC,KAAM/B,MAGzB,ECnDA,EAToB,WAEf,OACGiB,EAAAA,EAAAA,KAAA,OAAAD,UACIC,EAAAA,EAAAA,KAAC9B,EAAO,KAGpB,C","sources":["components/Catalog/Catalog .jsx","pages/CatalogPage.jsx"],"sourcesContent":["\nimport { useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { fetchCatalogApi } from '../../redux/reducerCatalog';\nimport {  ButtonLoadMore, Box } from '../Catalog/Catalog.styled';\nimport { openModal } from \"../../redux/reducerModal\";\nimport { selectAdverts} from \"helpers/selectors\";\nimport { Modal} from \"../Modal/Modal\";\nimport { Card } from \"components/Card/Card\";\nimport { ButtonShowMore } from '../ButtonShowMore/ButtonShowMore'\n\n\n\n\nexport const Catalog = () => {\n    const dispatch = useDispatch();\n    const { isLoading, error, items } = useSelector(selectAdverts);\n    const [detailsId, setDetailsId] = useState(null);\n    const currentPage = useSelector((state) => state.adverts.currentPage);\n    const [showMore, setShowMore] = useState(true);\n\n    useEffect(() => {\n        dispatch(fetchCatalogApi(1));\n    }, [dispatch]);\n\n    const loadMore = (event) => {\n        event.preventDefault();\n        if (items.length === 0) {\n            setShowMore(false);\n        }\n        dispatch(fetchCatalogApi(currentPage + 1));\n    };\n\n    useEffect(() => {\n        if (!isLoading && items.length === 0 && currentPage > 1) {\n            setShowMore(false);\n        }\n    }, [isLoading, items, currentPage]);\n    const handleModalOpen = (id) => {\n        setDetailsId(id);\n        dispatch(openModal());\n    };\n\n    return (\n        <div>\n            {isLoading && <b>Loading adverts...</b>}\n            {error && <b>{error}</b>}\n            <Box>\n                {items.map((item) => (\n                    <Card key={item._id} item={item} >\n                        <ButtonShowMore itemId={item._id} onClick={handleModalOpen} />\n                    </Card>\n                ))}\n            </Box>\n            {showMore && (\n                <ButtonLoadMore onClick={loadMore} disabled={isLoading}>\n                    Load more\n                </ButtonLoadMore>\n            )}\n            <Modal adId={detailsId} />\n        </div>\n    );\n};\n\n\n\n","import { Catalog } from \"components/Catalog/Catalog \";\n\nconst CatalogPage = () => {\n    \n     return (\n        <div>\n            <Catalog />\n       </div>\n   )\n}\n\nexport default CatalogPage;"],"names":["Catalog","dispatch","useDispatch","_useSelector","useSelector","selectAdverts","isLoading","error","items","_useState","useState","_useState2","_slicedToArray","detailsId","setDetailsId","currentPage","state","adverts","_useState3","_useState4","showMore","setShowMore","useEffect","fetchCatalogApi","length","handleModalOpen","id","openModal","_jsxs","children","_jsx","Box","map","item","Card","ButtonShowMore","itemId","_id","onClick","ButtonLoadMore","event","preventDefault","disabled","Modal","adId"],"sourceRoot":""}